(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{15:function(t,e,n){t.exports={list:"ContactList_list__35SJT",item:"ContactList_item__E7Qu2",text:"ContactList_text__34VS4",btn:"ContactList_btn__2EGQW"}},23:function(t,e,n){t.exports={title:"App_title__3F0Sj",container:"App_container__3CzeS"}},35:function(t,e,n){t.exports={input:"Filter_input__3FiU-"}},49:function(t,e,n){},69:function(t,e,n){"use strict";n.r(e);var c,a,r=n(2),o=n(1),s=n.n(o),i=n(18),u=n.n(i),b=n(10),l=n(7),j=n(3),m=n(5),O=n(6),d=Object(l.b)("contact/fetchContactsRequest"),f=Object(l.b)("contact/fetchContactsSuccess"),h=Object(l.b)("contact/fetchContactsError"),p=Object(l.b)("contact/addContactRequest"),x=Object(l.b)("contact/addContactSuccess"),_=Object(l.b)("contact/addContactError"),v=Object(l.b)("contact/deleteContactRequest"),C=Object(l.b)("contact/deleteContactSuccess"),N=Object(l.b)("contact/deleteContactError"),g=Object(l.b)("contact/changeFilter"),y=Object(l.c)([],(c={},Object(j.a)(c,f,(function(t,e){return e.payload})),Object(j.a)(c,x,(function(t,e){var n=e.payload;return[].concat(Object(m.a)(t),[n])})),Object(j.a)(c,C,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),c)),L=Object(l.c)("",Object(j.a)({},g,(function(t,e){return e.payload}))),E=Object(l.c)(!1,(a={},Object(j.a)(a,d,(function(){return!0})),Object(j.a)(a,f,(function(){return!1})),Object(j.a)(a,h,(function(){return!1})),Object(j.a)(a,p,(function(){return!0})),Object(j.a)(a,x,(function(){return!1})),Object(j.a)(a,_,(function(){return!1})),Object(j.a)(a,v,(function(){return!0})),Object(j.a)(a,C,(function(){return!1})),Object(j.a)(a,N,(function(){return!1})),a)),w=Object(O.c)({items:y,filter:L,loading:E}),F=n(13),S=n(34),k=n.n(S),q=Object(l.a)({reducer:{contacts:w},middleware:function(t){return t({serializableCheck:{ignoredActions:[F.a,F.f,F.b,F.c,F.d,F.e]}}).concat(k.a)},devTools:!1}),T=(n(49),n(23)),A=n.n(T),R=n(12),G=n(38),J=n(4),U=n.n(J),z=n(11),D=n(17),M=n.n(D);M.a.defaults.baseURL="http://localhost:4040";var P=n(9),Q=n.n(P);function X(){var t=Object(G.a)(),e=t.register,n=t.handleSubmit,c=t.errors,a=Object(o.useState)(""),s=Object(R.a)(a,2),i=s[0],u=s[1],l=Object(o.useState)(""),j=Object(R.a)(l,2),m=j[0],O=j[1],d=Object(b.b)(),f=Object(b.c)((function(t){return t.contacts.items})),h=function(){u(""),O("")},v=function(t){t.preventDefault();var e=t.currentTarget,n=e.name,c=e.value;switch(n){case"name":u(c);break;case"number":O(c)}};return Object(r.jsx)("div",{className:Q.a.container,children:Object(r.jsxs)("form",{onSubmit:n((function(){var t,e;if(f.map((function(t){return t.name.toLocaleLowerCase()})).includes(i.toLocaleLowerCase()))return h(),alert("".concat(i," is already in contacts!"));d((t=i,e=m,function(n){var c={name:t,number:e};n(p()),M.a.post("/contacts",c).then((function(t){var e=t.data;return n(x(e))})).catch((function(t){return n(_(t))}))})),h()})),children:[Object(r.jsxs)("label",{className:Q.a.label,children:["Name",Object(r.jsx)("input",{className:Q.a.input,autoComplete:"off",name:"name",type:"text",value:i,ref:e({required:!0,minLength:3}),onChange:v})]}),c.name&&"required"===c.name.type&&Object(r.jsx)("p",{className:Q.a.textError,children:"This is required "}),c.name&&"minLength"===c.name.type&&Object(r.jsx)("p",{className:Q.a.textError,children:"This is field is required min length of 3"}),Object(r.jsxs)("label",{className:Q.a.label,children:["Number",Object(r.jsx)("input",{className:Q.a.input,autoComplete:"off",name:"number",type:"text",value:m,ref:e({required:!0,pattern:/^[0-9]+$/gm,minLength:7}),onChange:v})]}),c.number&&"required"===c.number.type&&Object(r.jsx)("p",{className:Q.a.textError,children:"This is required "}),c.number&&"pattern"===c.number.type&&Object(r.jsx)("p",{className:Q.a.textError,children:"There must be numbers"}),c.number&&"minLength"===c.number.type&&Object(r.jsx)("p",{className:Q.a.textError,children:"Number too short"}),Object(r.jsx)("button",{className:Q.a.btn,type:"submit",children:"Add contact"})]})})}var B=n(35),I=n.n(B),K=function(t){return t.contacts.filter},V=function(t){var e=function(t){return t.contacts.items}(t),n=K(t).toLocaleLowerCase();return e.filter((function(t){return t.name.toLocaleLowerCase().includes(n)}))};function W(){var t=Object(b.c)(K),e=Object(b.b)();return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("label",{children:Object(r.jsx)("input",{className:I.a.input,type:"text",value:t,onChange:function(t){return e(g(t.currentTarget.value))},placeholder:" Fined contacts by name"})})})}var $=n(36),H=n(37),Y=n(15),Z=n.n(Y);function tt(){var t=Object(b.b)(),e=Object(b.c)(V);Object(o.useEffect)((function(){t(function(){var t=Object(z.a)(U.a.mark((function t(e){var n,c;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(d()),t.prev=1,t.next=4,M.a.get("/contacts");case 4:n=t.sent,c=n.data,e(f(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(h(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}())}),[]);var n=function(e){return t((n=e,function(t){t(v()),M.a.delete("/contacts/".concat(n)).then((function(){return t(C(n))})).catch((function(e){return t(N(e))}))}));var n};return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("ul",{className:Z.a.list,children:e.map((function(t){var e=t.id,c=t.name,a=t.number;return Object(r.jsxs)("li",{className:Z.a.item,children:[Object(r.jsx)($.a,{}),Object(r.jsxs)("span",{className:Z.a.text,children:[c,": "]}),Object(r.jsx)("span",{className:Z.a.text,children:a}),Object(r.jsxs)("button",{className:Z.a.btn,onClick:function(){return n(e)},children:[Object(r.jsx)(H.a,{value:{width:20}})," "]})]},e)}))})})}function et(){return Object(r.jsxs)("div",{className:A.a.container,children:[Object(r.jsx)("h1",{className:A.a.title,children:"Phonebook"}),Object(r.jsx)(X,{}),Object(r.jsx)("h2",{children:"Contacts"}),Object(r.jsx)(W,{}),Object(r.jsx)(tt,{})]})}u.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(b.a,{store:q,children:Object(r.jsx)(et,{})})}),document.getElementById("root"))},9:function(t,e,n){t.exports={input:"ContactForm_input__1xNPM",label:"ContactForm_label__1ADTb",container:"ContactForm_container__1ksKU",btn:"ContactForm_btn__3yXGR",textError:"ContactForm_textError__3e3XG"}}},[[69,1,2]]]);
//# sourceMappingURL=main.c786daa8.chunk.js.map